# lab2 KVServer

## 1 任务介绍

这个lab主要是实现一个线性一致性的KVServer，完善RPC函数和RPC handler，可以看作是lab4的简化版，整体实现比较简单。

## 2 实现思路

要实现线性一致性，主要对请求去重，因为一些RPC请求可能因为网络原因重新发送，这个时候Server端就需要对请求去重，如果是put或是Append函数被连续执行两次，就会导致线性不一致，所以要对所有请求进行标识。同时，因为会有多个客户端，所以也需要对客户端进行标识。还要考虑哪些请求需要存储历史结果，因为Get请求不会对数据产生影响，所以直接返回，Put请求不需要返回结果，所以也不需要存储历史结果，Append请求需要返回Append之前的Value，所以只需要对Append的结果进行存储

### 3 总结

尽管这个函数的实现比较简单，但是还是需要理清思路，我最开始因为所用内存过大，没有通过第6和第8和测试。我当时就是因为没有理清思路，把Get请求和Put请求的结果都进行了存储，但实际上是不需要的，Get请求甚至不需要去重。